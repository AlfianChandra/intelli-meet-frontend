import{S as I,A as s,E as S,H as u}from"./index-Drj_95ab.js";import{u as A}from"./http-BAQwr84D.js";const i=I("auth",()=>{const t=s(""),o=s(!1),a=s("");S(()=>{t.value=localStorage.getItem("authToken")||"",o.value=localStorage.getItem("isAuth")==="true"});const r=e=>{o.value=e,localStorage.setItem("isAuth",e?"true":"false")},c=e=>{t.value=e,localStorage.setItem("authToken",e)},n=e=>{a.value=e,localStorage.setItem("userId",e)},m=async()=>{const e={token:t.value};await A().httpPost("/auth/logout",e).then(l=>{t.value="",o.value=!1,a.value="",localStorage.removeItem("userAvatar"),localStorage.removeItem("userId"),localStorage.removeItem("authToken"),localStorage.setItem("isAuth","false")}).catch(l=>{console.log(l)})},g=u(()=>o.value),h=u(()=>t.value),v=u(()=>a.value);return{getAuth:g,getToken:h,setAuth:r,setToken:c,clearAuth:m,getUserId:v,setUserId:n}});export{i as u};
